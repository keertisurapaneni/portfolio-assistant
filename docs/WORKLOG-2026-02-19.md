# Work Log — February 19, 2026

> **Architecture doc:** [INSTAGRAM-STRATEGY-ARCHITECTURE.md](./INSTAGRAM-STRATEGY-ARCHITECTURE.md) — full system overview.

## Scope
Implemented Instagram strategy ingestion/execution upgrades, strategy performance drill-down improvements, first-candle timing controls, and UI clarity fixes for paper-trading strategy tracking.

## What Was Delivered

### 1. Strategy ingestion and execution pipeline
- Added source-attributed external strategy signals with video metadata (source, URL, video ID, heading).
- Added auto-queue for Instagram strategies:
  - `daily_signal` videos queue concrete level-based signals.
  - `generic_strategy` videos queue scanner-backed signals.
- Added validation guardrails for generic external signals:
  - Full-analysis confidence threshold check.
  - HOLD rejection.
  - Direction match between external signal and full analysis.

### 2. Time/date correctness and signal timing
- Standardized scheduler daily behavior to ET day boundaries.
- Hardened day/swing routing and signal timing behavior.
- Kept First Candle strategy separate and added explicit execution window:
  - `09:35`–`10:30` ET.
- Added dedicated once-per-day first-candle scheduler run at `09:36 ET` (weekdays).

### 3. Strategy performance UI and drill-down
- Added Strategy Performance sub-tab and source leaderboard with drill-down by video.
- Added tracked videos into drill-down metadata source.
- Added global expand/collapse behavior for source sections.
- Improved drill-down clarity:
  - Strategy date semantics (daily applicable date vs generic last trade date).
  - Trade samples displayed for each strategy entry.
  - Video links shown per strategy row.
  - Status model supports active/deactivated/expired/legacy semantics.

### 4. Pending/queued visibility improvements
- Added queued strategy signals to portfolio/open-order context and history views.
- Ensured pending strategy signals are visible and linked to source video.

### 5. Allocation/testing logic improvements
- Updated generic strategy allocation to support per-stock multi-strategy testing.
- Split execution size per ticker across applicable generic strategies (`allocation i/n`) so strategies are compared fairly on the same underlying.

### 6. Scanner universe cleanup
- Decoupled Suggested Finds universe from swing scanner universe (Suggested Finds remain long-term focused).

### 7. Trades column UI fix requested
- Moved recent trade details into the **Trades** column for strategy drill-down rows.
- Removed duplicate trade-detail rendering under the strategy title area.

## Validation Performed
- `auto-trader`: TypeScript build passed (`npm run build`).
- `app`: TypeScript + Vite production build passed (`npm run build`).
- Local service checks: scheduler/status and IB connection endpoints verified during rollout.

## Key Commits (Today)
- `0f90055` Show recent strategy trades inside Trades column
- `e3a1c52` Add 9:36 ET daily scheduler pass for first-candle setups
- `1d458d6` Keep First Candle strategy separate with morning execution window
- `0693998` Split generic strategy sizing per ticker across strategies
- `f66430f` Clarify strategy drilldown with trade samples and date semantics
- `6199516` Validate generic external signals with full analysis before execution
- `48879de` Improve strategy drilldown UX and include tracked videos
- `68ff112` Decouple suggested finds from swing scanner universe
- `862667a` Use ET day boundaries for scheduler daily tasks
- `e90d99d` Harden scanner day-swing routing and strategy signal timing
- `bc6d584` Auto-queue generic Instagram strategies from scanner ideas
- `36bdec8` Show queued strategy signals in portfolio open orders area
- `e5c9774` Show pending strategy signals in history and fix drill-down links
- `094835a` Auto-queue IG strategies with guardrails and drill-down performance
- `d78681d` Add dedicated Strategy Performance sub-tab in Paper Trading
- `39794d3` Add source-attributed strategy signals and leaderboard

## Notes
- Existing unrelated local modifications were intentionally left untouched.
- First-candle strategy remains separate from other Casper strategy variants by design to preserve test integrity.
